# 產品需求文件 (PRD)：科技業硬體研發專案管理系統 (MVP)

| 文件版本 | 狀態 | 作者 | 日期 |
| :--- | :--- | :--- | :--- |
| v1.0 | 草案 | 高級產品經理 | 2023-10-27 |

---

## 1. 簡介

### 1.1 文件目的
本文件旨在詳細定義「科技業硬體研發專案管理系統」最小可行產品 (MVP) 的功能範圍、技術架構與業務邏輯。本文供開發團隊（Frontend, Backend）、設計師（UI/UX）及專案關係人作為開發與驗收之基準。

### 1.2 產品背景
硬體研發專案（如電子消費產品、伺服器開發）具有開發週期長、階段明確（Waterfall/Stage-Gate）以及資源（高階工程師、昂貴實驗室設備）稀缺等特性。目前市面上通用的專案管理工具（如 Trello, Jira）多偏向軟體敏捷開發，難以有效處理硬體開發中的「資源衝突」與「嚴謹的線性時程依賴」。本系統旨在填補此市場空白，解決研發過程中的排程混亂與資源過載問題。

### 1.3 產品願景
成為科技業硬體研發的標準作業平台，透過精準的資源排程與可視化預警，將產品上市時間 (Time-to-Market) 縮短 15% 以上，並最大化研發資源的利用率。

### 1.4 MVP 目標
*   **建立結構化時程**：支援硬體開發特有的 Stage-Gate (EVT/DVT/PVT) 流程。
*   **實現自動化排程分析**：自動計算關鍵路徑 (Critical Path) 與任務依賴。
*   **解決資料輸入痛點**：提供 Excel 批次匯入機制，減少 PM 手動建立數百項任務的負擔。
*   **資源衝突可視化**：在任務層級精確指派人與設備，並自動標示過載衝突。
*   **提供決策依據**：透過資源負載地圖，協助部門主管進行人力與設備的調度決策。

---

## 2. 目標用戶

### 2.1 主要用戶
*   **硬體專案經理 (Hardware PM)**：負責控管整體專案進度、時程與跨部門溝通。
*   **研發部門主管 (Functional Manager)**：如 EE/ME/FW 經理，負責分配下屬人力並確保資源未過載。
*   **實驗室管理員 (Lab Manager)**：負責昂貴測試設備（如 EMI Chamber, 燒錄機）的預約與排程。

### 2.2 用戶特徵
*   **技術背景強**：熟悉產品開發流程 (NPI)，對數據精確度要求高。
*   **習慣使用 Excel**：在轉換系統前，多數依賴 Excel 進行 WBS (工作分解結構) 管理。
*   **時間敏感**：每日處理大量任務，需要直觀、快速的圖形化介面，而非繁瑣的文字操作。

---

## 3. 核心問題與解決方案

*   **核心問題 1：跨專案資源爭奪**
    *   **問題描述**：多個專案同時進行時，同一位 EE 工程師或同一台測試設備常被重複指派，導致進度延宕。
    *   **MVP 解決方案**：建立「資源負載地圖」，在任務層級指派特定人/設備，並在衝突發生時自動以紅字標示。

*   **核心問題 2：時程調整引發連鎖反應**
    *   **問題描述**：硬體任務依賴性強（如：電路板未回廠，無法進行調試），手動調整一個日期後，難以評估對結案日的影響。
    *   **MVP 解決方案**：實作具備任務依賴 (Dependency) 邏輯的互動式甘特圖，自動計算關鍵路徑。

*   **核心問題 3：系統轉移門檻高**
    *   **問題描述**：手動輸入數百條 WBS 任務極其耗時，導致 PM 傾向繼續使用 Excel。
    *   **MVP 解決方案**：開發「Excel 智慧匯入器」，支援欄位對照與格式預檢，實現一鍵生成專案計畫。

---

## 4. 產品功能 (MVP 範圍)

### 4.1 專案與階段管理 (Project & Stage Management)
*   **功能描述**：建立專案基本資訊並定義硬體開發的標準生命週期。
*   **具體子功能**：
    *   **專案建立**：輸入專案名稱、編號、目標上市日期及負責 PM。
    *   **Stage-Gate 設定**：預設 EVT (工程驗證)、DVT (設計驗證)、PVT (生產驗證)、MP (量產) 等階段。
    *   **里程碑 (Milestone) 管理**：可定義各階段的關鍵檢查點。

### 4.2 Excel 資料匯入模組 (Data Importer)
*   **功能描述**：解決資料輸入效率問題，支援外部資料快速對接。
*   **具體子功能**：
    *   **範本下載**：提供標準化 Excel 格式，包含任務名稱、起訖日、前置任務、負責人、設備。
    *   **欄位對照 (Mapping)**：上傳時可自定義 Excel 欄位與系統欄位的對應關係。
    *   **資料預檢**：系統自動檢查日期格式、人員是否存在、設備編號是否正確。
    *   **批次生成**：匯入成功後自動生成 WBS 列表與甘特圖。

### 4.3 互動式甘特圖 (Interactive Gantt Chart)
*   **功能描述**：視覺化呈現專案時程，並處理任務間的邏輯關係。
*   **具體子功能**：
    *   **任務編輯**：支援在甘特圖上直接拖拉調整任務起訖時間或持續天數。
    *   **依賴關係連結**：支援 Finish-to-Start (FS) 等依賴關係，拖動前置任務時自動連動後續任務。
    *   **關鍵路徑標示**：以不同顏色（如橘色）自動高亮顯示所有影響結案日的任務鏈。

### 4.4 任務級資源指派 (Task-level Resource Allocation)
*   **功能描述**：將最小執行單位（任務）與實際資源（人/設備）綁定。
*   **具體子功能**：
    *   **人力指派**：從員工資料庫中選取特定工程師至特定任務。
    *   **設備租借**：從設備清單中選取測試儀器、實驗室空間。
    *   **多重指派**：單一任務可同時指派多名人員與多台設備。

### 4.5 資源負載與衝突預警 (Resource Loading & Conflict Warning)
*   **功能描述**：跨專案監控資源狀態，並主動提示衝突。
*   **具體子功能**：
    *   **負載地圖 (Heatmap)**：以時間軸為橫座標，資源為縱座標，呈現佔用狀態。
    *   **紅字預警**：當同一資源在同一時間段被佔用超過 100%（例如同時接了兩個 8 小時的任務），系統顯示紅字或感嘆號。
    *   **衝突清單**：列出目前所有衝突點，包含衝突的專案名稱與任務名稱。

### 4.6 資源資料庫管理 (Resource Repository)
*   **功能描述**：管理系統內的靜態資源數據。
*   **具體子功能**：
    *   **人員管理**：包含姓名、工號、部門、技能標籤。
    *   **設備清單**：包含設備名稱、編號、分類、放置地點。

---

## 5. 用戶故事 (User Stories)

1.  **作為** 專案經理 (PM)，**我想要** 下載標準 Excel 範本並填入時程後匯入，**以便** 我能快速建立包含數百項任務的甘特圖。
2.  **作為** 專案經理 (PM)，**我想要** 在甘特圖上拖動延遲的任務，**以便** 系統能自動更新所有受影響的後續任務日期。
3.  **作為** 部門主管，**我想要** 看到我所有下屬工程師在未來三個月的排程，**以便** 我評估是否需要外包人力或調整專案優先級。
4.  **作為** 專案經理 (PM)，**當** 我指派的測試設備與另一個專案衝突時，**我想要** 看到系統跳出紅字警告，**以便** 我能提早與另一位 PM 協調設備使用權。
5.  **作為** 研發工程師，**我想要** 在系統中查看我個人專屬的任務日曆，**以便** 我知道每天需要參與哪些研發活動。
6.  **作為** 專案經理 (PM)，**我想要** 系統自動標示出關鍵路徑，**以便** 我能聚焦在那些絕對不能延誤的關鍵任務上。
7.  **作為** 實驗室管理員，**我想要** 查看特定高價值設備（如 EMI Chamber）的預約狀況，**以便** 安排定期的設備保修。
8.  **作為** 專案經理 (PM)，**我想要** 在匯入 Excel 時能自定義欄位對應，**以便** 我能使用我習慣的 WBS 格式而不需要重新修改檔案。

---

## 6. 非 MVP 範圍 (未來考量)

1.  **自動資源平衡 (Auto-leveling)**：由 AI 自動移動任務以避開資源衝突。
2.  **電子簽核流程 (E-Approval)**：Stage-Gate 轉換時的正式文件簽核流。
3.  **預算與成本管理**：追蹤零件採購成本、開模費用與人力成本。
4.  **外部工具整合 (GitHub/Jira/Slack)**：與軟體開發工具或即時通訊軟體同步。
5.  **行動端 App**：提供手機查看進度與接收警示通知的功能。
6.  **儀表板高級分析**：如燃盡圖、預計 vs 實際進度對比、專案健康度預測。
7.  **文件版本控制**：與任務掛鉤的工程圖面、規格書版本管理。
8.  **多語言支援 (i18n)**：支援英文、日文等國際化介面。
9.  **供應商協作平台**：讓外部供應商 (Vendor) 也能回報零件交期。
10. **離線編輯模式**：在無網路環境下編輯甘特圖並在連線後同步。

---

## 7. 技術要求 (Web Application: React + Node.js)

### 7.1 後端框架
*   **建議**：Node.js (NestJS 框架)
*   **理由**：NestJS 提供強大的模組化結構與 TypeScript 支援，適合處理複雜的業務邏輯（如時程連動計算與衝突掃描），且易於擴展。

### 7.2 資料庫
*   **建議**：PostgreSQL
*   **理由**：專案 WBS 具有強大的關聯性與階層性，關係型資料庫 (RDBMS) 在處理複雜查詢、JOIN 操作以及確保資料一致性方面優於 NoSQL。

### 7.3 資料庫 ORM
*   **建議**：Prisma
*   **理由**：提供強型別支援，能大幅減少開發時的錯誤，並簡化複雜的資料模型操作。

### 7.4 前端技術棧
*   **建議**：React + Tailwind CSS + Gantt Library (如 `frappe-gantt` 或 `dhtmlx-gantt`)
*   **理由**：React 適合構建高互動性的 UI；甘特圖需要專業插件支援以達成拖拉與大量數據渲染。

### 7.5 其他整合
*   **Excel 處理**：使用 `exceljs` 庫進行 Excel 的解析與生成。
*   **關鍵路徑演算法**：需開發自定義算法計算任務鏈的最早/最晚開始時間。

### 7.6 部署環境
*   **建議**：Docker 容器化部署，並託管於 AWS (ECS/RDS) 或 GCP，以確保高可用性與易擴展性。

### 7.7 版本控制
*   **建議**：Git (使用 GitHub 或 GitLab 進行託管)，遵循 Git Flow 分支管理規範。

---

## 8. 成功指標

*   **時程編製效率提升**：PM 透過 Excel 匯入功能建立專案所需的時間，較手動輸入減少 **80%** 以上。
*   **資源衝突檢出率**：系統能精準識別出 **100%** 的任務級重疊衝突（指派同人/同設備於重疊時段）。
*   **用戶採納度**：試行階段目標部門超過 **70%** 的 PM 主動使用系統管理專案，而非繼續依賴私人 Excel。
*   **數據精確度**：系統計算的關鍵路徑與 MS Project 對標結果誤差為 **0**。

---

## 9. 假設與約束

### 9.1 假設
*   用戶上傳的 Excel 檔案至少包含開始日期與結束日期兩個核心欄位。
*   所有資源（工程師與設備）已預先在系統資料庫中建立。
*   用戶使用的瀏覽器支援 HTML5 畫布或 SVG，以正常渲染甘特圖。
*   每個專案至少有一個明確的起始日。
*   同一時間內，一個資源的 100% 負載定義為 8 小時/天。

### 9.2 約束
*   **效能約束**：單一專案任務數超過 1000 條時，甘特圖渲染延遲需低於 2 秒。
*   **時效約束**：首版 MVP 需在 3 個月內完成開發並進入 Beta 測試。
*   **安全性約束**：所有資料傳輸必須加密 (HTTPS)，且需具備基礎的權限控管（PM 僅能編輯自己所屬的專案）。